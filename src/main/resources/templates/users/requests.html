<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" th:replace="~{/layouts/application:: application_layout(false)}" lang="en">
<head>
    <meta charset="UTF-8">
    <title th:fragment="page_title">Request</title>
</head>
<body>

<!-- main content -->
<div th:fragment="main_content" class="main-content right-chat-active">
    <div class="middle-sidebar-bottom">
        <div class="middle-sidebar-left pe-0">
            <div class="row">
                <div class="col-xl-12">
                    <div class="card shadow-xss w-100 d-block d-flex border-0 p-4 mb-3">
                        <div class="card-body d-flex align-items-center p-0">
                            <h2 class="fw-700 mb-0 mt-0 font-md text-grey-900">Request</h2>
                            <div class="search-form-2 ms-auto">
                                <i class="ti-search font-xss"></i>
                                <input type="text"
                                       class="form-control text-grey-500 mb-0 bg-greylight theme-dark-bg border-0"
                                       placeholder="Search here.">
                            </div>
                            <a href="#" class="btn-round-md ms-2 bg-greylight theme-dark-bg rounded-3"><i
                                    class="feather-filter font-xss text-grey-500"></i></a>
                        </div>
                    </div>
                    <div class="row ps-2 pe-2">
                        <div class="col-md-3 col-sm-4 pe-2 ps-2 request-friend-page" th:each="item: ${requestsFriend}"
                             th:attr="data-request-friend-id=${item.user.userId}">
                            <div class="card d-block border-0 shadow-xss rounded-3 overflow-hidden mb-3">
                                <div class="card-body d-block w-100 ps-3 pe-3 pb-4 text-center">
                                    <figure class="avatar">
                                        <img th:src="${item.user.avatar}" alt="image"
                                             class="shadow-sm rounded-circle custom-avatar-85 current-user-avatar">
                                    </figure>
                                    <h3 class="fw-700 text-grey-900 font-xssss mt-4">
                                        <a class="fw-700 text-grey-900 font-xs mt-1"
                                           th:href="@{/profile(user-id=${item.user.userId})}"
                                           th:text="${item.user.fullName}">
                                        </a>
                                    </h3>
                                    <p class="font-xssss fw-500 lh-1 text-grey-500"
                                       th:text="${item.mutualFriendCount > 0 ? item.mutualFriendCount + ' mutual friends' : 'No mutual friend'}"></p>
                                    <a class="mt-2 cursor-pointer btn d-inline-block rounded-xxxxl
                                    bg-primary font-xssss fw-700 ls-lg text-white"
                                       th:attr="data-request-id=${item.user.userId}"
                                       onclick="confirmRequest(this, true)">Confirm</a>
                                    <a class="mt-2 cursor-pointer btn d-inline-block rounded-xxxxl
                                    bg-danger font-xssss fw-700 ls-lg text-white"
                                       th:attr="data-request-id=${item.user.userId}"
                                       onclick="deleteRequest(this, true)">Delete</a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script th:src="@{/assets/javascript/relations/relation-handle.js}"></script>
</div>
<!-- main content -->

</body>
</html>
