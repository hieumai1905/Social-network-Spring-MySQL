<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" th:fragment="application_layout" lang="en">
<body>
<div th:fragment="fragment-comment-list(comments)" class="comments-list custom-overflow d-none">
    <div class="comment" th:each="comment:${comments}">
        <div class="card-body p-0 d-flex">
            <figure class="avatar me-3">
                <img th:src="${comment.user.avatar}" alt="image" class="shadow-sm rounded-circle w45"></figure>
            <div class="bg-comment rounded-xxl px-2">
                <h4 class="fw-700 text-grey-900 font-xssss mt-1"
                    th:text="${comment.user.fullName}"></h4>
                <p th:text="${comment.content}"></p>
            </div>
        </div>
        <div class="ms-6">
            <div class="card-body d-flex p-0 mt-1">
                <span class="createAtSpan d-flex align-items-center fw-600 text-grey-500 lh-26 font-xssss me-2"
                      th:data-createAt="${comment.commentAt}">
                </span>
                <a href="#"
                   class="emoji-bttn d-flex align-items-center fw-600 text-grey-900 text-dark lh-26 font-xssss me-2">
                    <span th:if="${comment.isLiked}"
                          onclick="likeComment('${comment.commentId}', 0)">
                        <i class="feather-thumbs-up text-white bg-primary-gradiant me-1 btn-round-xs font-xss"></i>
                    </span>
                    <span th:unless="${comment.isLiked}" onclick="likeComment('${comment.commentId}', 1)">
                        <i class="feather-thumbs-up text-grey-900 me-1 btn-round-xs font-xss"></i>
                    </span>
                    <span th:text="${comment.likes.size()}" th:if="${comment.likes.size() > 0}"></span> &nbsp; Like
                </a>
                <a class="d-flex align-items-center fw-600 text-grey-900 text-dark lh-26 font-xssss">
                    <i class="feather-message-circle text-dark text-grey-900 btn-round-sm font-lg"></i>
                    <span class="d-none-xss" th:text="${comment.commentReplies.size()}"
                          th:if="${comment.commentReplies.size() >0}">
                    </span> &nbsp; Reply
                </a>
                <div class="cursor-pointer mt-1" th:if="${comment.commentReplies.size() >0}">
                    <a class="btn-comment-reply ms-2 text-decoration-underline d-flex text-grey-900
                            text-dark lh-26 font-xssss">
                        View more
                    </a>
                </div>
            </div>
        </div>
        <div th:replace="~{comment_replies/_comment_replies::fragment-comment-reply-list(${comment})}"></div>
    </div>
    <script th:src="@{/assets/javascript/comments/comment-handle.js}"></script>
</div>
</body>
</html>
